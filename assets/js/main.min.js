var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";function t(t,e,n){return!(s(t,e,n)||l(t,e,n)||a(t,e,n)||u(t,e,n))}var e=function(t,e){return t.getAttribute("data-"+e)},n=function(t){return function(t,e,n){var i="data-"+e;null!==n?t.setAttribute(i,n):t.removeAttribute(i)}(t,"was-processed","true")},i=function(t){return"true"===e(t,"was-processed")},o=function(t){return t.getBoundingClientRect().top+window.pageYOffset-t.ownerDocument.documentElement.clientTop},s=function(t,e,n){return(e===window?window.innerHeight+window.pageYOffset:o(e)+e.offsetHeight)<=o(t)-n},r=function(t){return t.getBoundingClientRect().left+window.pageXOffset-t.ownerDocument.documentElement.clientLeft},a=function(t,e,n){var i=window.innerWidth;return(e===window?i+window.pageXOffset:r(e)+i)<=r(t)-n},l=function(t,e,n){return(e===window?window.pageYOffset:o(e))>=o(t)+n+t.offsetHeight},u=function(t,e,n){return(e===window?window.pageXOffset:r(e))>=r(t)+n+t.offsetWidth},c=function(t,e){var n,i=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:i}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:i})}window.dispatchEvent(n)},d=function(t,e){return e?t.replace(/\.(jpe?g|png)/gi,".webp"):t},h="undefined"!=typeof window,f=h&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),p=h&&"classList"in document.createElement("p"),m=h&&function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),g=function(t,e){p?t.classList.add(e):t.className+=(t.className?" ":"")+e},v=function(t,n,i,o){for(var s,r=0;s=t.children[r];r+=1)if("SOURCE"===s.tagName){var a=e(s,i);y(s,n,a,o)}},y=function(t,e,n,i){n&&t.setAttribute(e,d(n,i))},w=function(t,n){var i=m&&n.to_webp,o=e(t,n.data_src),s=e(t,n.data_bg);if(o){var r=d(o,i);t.style.backgroundImage='url("'+r+'")'}if(s){var a=d(s,i);t.style.backgroundImage=a}},_={IMG:function(t,n){var i=m&&n.to_webp,o=n.data_srcset,s=t.parentNode;s&&"PICTURE"===s.tagName&&v(s,"srcset",o,i);var r=e(t,n.data_sizes);y(t,"sizes",r);var a=e(t,o);y(t,"srcset",a,i);var l=e(t,n.data_src);y(t,"src",l,i)},IFRAME:function(t,n){var i=e(t,n.data_src);y(t,"src",i)},VIDEO:function(t,n){var i=n.data_src,o=e(t,i);v(t,"src",i),y(t,"src",o),t.load()}},E=function(t,e){var n=e._settings,i=t.tagName,o=_[i];if(o)return o(t,n),e._updateLoadingCount(1),void(e._elements=function(t,e){return t.filter(function(t){return t!==e})}(e._elements,t));w(t,n)},b=function(t,e){t&&t(e)},S=function(t,e,n){t.addEventListener(e,n)},T=function(t,e,n){t.removeEventListener(e,n)},L=function(t,e,n){T(t,"load",e),T(t,"loadeddata",e),T(t,"error",n)},k=function(t,e,n){var i=n._settings,o=e?i.class_loaded:i.class_error,s=e?i.callback_load:i.callback_error,r=t.target;(function(t,e){p?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")})(r,i.class_loading),g(r,o),b(s,r),n._updateLoadingCount(-1)},I=function(t,e){var n=function n(o){k(o,!0,e),L(t,n,i)},i=function i(o){k(o,!1,e),L(t,n,i)};!function(t,e,n){S(t,"load",e),S(t,"loadeddata",e),S(t,"error",n)}(t,n,i)},C=["IMG","IFRAME","VIDEO"],P=function(t){this._settings=_extends({},{elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_initial:"initial",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},t),this._loadingCount=0,this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener("resize",this._boundHandleScroll),this.update()};return P.prototype={_loopThroughElements:function(e){var n=this._settings,i=this._elements,o=i?i.length:0,s=void 0,r=[],a=this._isFirstLoop;if(a&&(this._isFirstLoop=!1),0!==o){for(s=0;s<o;s++){var l=i[s];n.skip_invisible&&null===l.offsetParent||(e||t(l,n.container,n.threshold))&&(a&&g(l,n.class_initial),this.load(l),r.push(s))}!function(t,e){for(;e.length;)t.splice(e.pop(),1)}(i,r)}else this._stopScrollHandler()},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._boundHandleScroll))},_updateLoadingCount:function(t){this._loadingCount+=t,0===this._elements.length&&0===this._loadingCount&&b(this._settings.callback_finish)},handleScroll:function(){var t=this._settings.throttle;if(0!==t){var e=Date.now(),n=t-(e-this._previousLoopTime);n<=0||n>t?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=e,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=Date.now(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),n))}else this._loopThroughElements()},loadAll:function(){this._loopThroughElements(!0)},update:function(t){var e=this._settings,n=t||this._queryOriginNode.querySelectorAll(e.elements_selector);this._elements=function(t){return t.filter(function(t){return!i(t)})}(Array.prototype.slice.call(n)),f?this.loadAll():(this._loopThroughElements(),this._startScrollHandler())},destroy:function(){window.removeEventListener("resize",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},load:function(t,e){!function(t,e,o){var s=e._settings;!o&&i(t)||(b(s.callback_enter,t),C.indexOf(t.tagName)>-1&&(I(t,e),g(t,s.class_loading)),E(t,e),n(t),b(s.callback_set,t))}(t,this,e)}},h&&function(t,e){if(e)if(e.length)for(var n,i=0;n=e[i];i+=1)c(t,n);else c(t,e)}(P,window.lazyLoadOptions),P}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Swup=e():t.Swup=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.query=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if("string"!=typeof t)return t;return e.querySelector(t)},e.queryAll=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if("string"!=typeof t)return t;return Array.prototype.slice.call(e.querySelectorAll(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.link=document.createElement("a")}return i(t,[{key:"setPath",value:function(t){this.link.href=t}},{key:"getPath",value:function(){var t=this.link.pathname;return"/"!=t[0]&&(t="/"+t),t}},{key:"getAddress",value:function(){var t=this.link.pathname+this.link.search;return"/"!=t[0]&&(t="/"+t),t}},{key:"getHash",value:function(){return this.link.hash}}]),t}();e.default=o},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(3));t.exports=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=I(n(4)),r=I(n(6)),a=I(n(1)),l=I(n(7)),u=I(n(8)),c=I(n(9)),d=I(n(10)),h=I(n(11)),f=I(n(12)),p=I(n(13)),m=I(n(14)),g=I(n(15)),v=I(n(16)),y=I(n(17)),w=I(n(18)),_=I(n(19)),E=I(n(20)),b=I(n(21)),S=I(n(22)),T=I(n(23)),L=I(n(24)),k=I(n(25));function I(t){return t&&t.__esModule?t:{default:t}}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n={cache:!0,animationSelector:'[class*="transition-"]',elements:["#swup"],pageClassPrefix:"",debugMode:!1,scroll:!0,doScrollingRightAway:!1,animateScroll:!0,scrollFriction:.3,scrollAcceleration:.04,preload:!0,support:!0,plugins:[],skipPopStateHandling:function(t){return!t.state||"swup"!=t.state.source},animateHistoryBrowsing:!1,LINK_SELECTOR:'a[href^="'+window.location.origin+'"]:not([data-no-swup]), a[href^="/"]:not([data-no-swup]), a[href^="#"]:not([data-no-swup])',FORM_SELECTOR:"form[data-swup-form]"};this.transition={};var o=i({},n,e);this._handlers={animationInDone:[],animationInStart:[],animationOutDone:[],animationOutStart:[],animationSkipped:[],clickLink:[],contentReplaced:[],disabled:[],enabled:[],hoverLink:[],openPageInNewTab:[],pageLoaded:[],pagePreloaded:[],pageRetrievedFromCache:[],pageView:[],popState:[],samePage:[],samePageWithHash:[],scrollDone:[],scrollStart:[],serverError:[],submitForm:[],willReplaceContent:[]},this.scrollToElement=null,this.preloadPromise=null,this.options=o,this.plugins=[],this.getUrl=m.default,this.cache=new r.default,this.link=new a.default,this.transitionEndEvent=(0,l.default)(),this.getDataFromHtml=c.default,this.getPage=u.default,this.scrollTo=g.default,this.loadPage=d.default,this.renderPage=h.default,this.createState=f.default,this.triggerEvent=p.default,this.classify=v.default,this.doScrolling=y.default,this.markSwupElements=w.default,this.on=_.default,this.off=E.default,this.updateTransition=b.default,this.preloadPage=S.default,this.preloadPages=T.default,this.usePlugin=L.default,this.log=k.default,this.enable=this.enable,this.destroy=this.destroy,this.options.debugMode&&(window.swup=this),this.getUrl(),this.enable()}return o(t,[{key:"enable",value:function(){var t=this;if(this.options.support){if(!("pushState"in window.history))return void console.warn("pushState is not supported");if(!(0,l.default)())return void console.warn("transitionEnd detection is not supported");if(this.transitionEndEvent=(0,l.default)(),"undefined"==typeof Promise||-1===Promise.toString().indexOf("[native code]"))return void console.warn("Promise is not supported")}this.delegatedListeners={},this.delegatedListeners.click=(0,s.default)(document,this.options.LINK_SELECTOR,"click",this.linkClickHandler.bind(this)),this.delegatedListeners.mouseover=(0,s.default)(document.body,this.options.LINK_SELECTOR,"mouseover",this.linkMouseoverHandler.bind(this)),this.delegatedListeners.formSubmit=(0,s.default)(document,this.options.FORM_SELECTOR,"submit",this.formSubmitHandler.bind(this)),window.addEventListener("popstate",this.popStateHandler.bind(this));var e=this.getDataFromHtml(document.documentElement.outerHTML);e.url=this.currentUrl,this.options.cache&&this.cache.cacheUrl(e,this.options.debugMode),this.markSwupElements(document.documentElement),this.options.plugins.forEach(function(e){return t.usePlugin(e)}),window.history.replaceState(Object.assign({},window.history.state,{url:window.location.href,random:Math.random(),source:"swup"}),document.title,window.location.href),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.triggerEvent("enabled"),document.documentElement.classList.add("swup-enabled"),this.triggerEvent("pageView"),this.preloadPages()}},{key:"destroy",value:function(){this.delegatedListeners.click.destroy(),this.delegatedListeners.mouseover.destroy(),window.removeEventListener("popstate",this.popStateHandler.bind(this)),this.cache.empty(),document.querySelectorAll("[data-swup]").forEach(function(t){delete t.dataset.swup}),this.off(),this.triggerEvent("disabled"),document.documentElement.classList.remove("swup-enabled")}},{key:"linkClickHandler",value:function(t){if(t.metaKey)this.triggerEvent("openPageInNewTab",t);else if(0===t.button){this.triggerEvent("clickLink",t);var e=new a.default;if(t.preventDefault(),e.setPath(t.delegateTarget.href),e.getAddress()==this.currentUrl||""==e.getAddress())if(""!=e.getHash()){this.triggerEvent("samePageWithHash",t);var n=document.querySelector(e.getHash());if(null!=n){if(this.options.scroll){var i=n.getBoundingClientRect().top+window.pageYOffset;this.scrollTo(document.body,i)}history.replaceState({url:e.getAddress()+e.getHash(),random:Math.random(),source:"swup"},document.title,e.getAddress()+e.getHash())}else console.warn("Element for offset not found ("+e.getHash()+")")}else this.triggerEvent("samePage",t),this.options.scroll&&this.scrollTo(document.body,0,1);else{""!=e.getHash()&&(this.scrollToElement=e.getHash());var o=t.delegateTarget.dataset.swupTransition;this.loadPage({url:e.getAddress(),customTransition:o},!1)}}}},{key:"linkMouseoverHandler",value:function(t){var e=this;if(this.triggerEvent("hoverLink",t),this.options.preload){var n=new a.default;n.setPath(t.delegateTarget.href),n.getAddress()==this.currentUrl||this.cache.exists(n.getAddress())||null!=this.preloadPromise||(this.preloadPromise=new Promise(function(i,o){e.getPage({url:n.getAddress()},function(s,r){if(500===r.status)return e.triggerEvent("serverError",t),void o(n.getAddress());var a=e.getDataFromHtml(s,r);null!=a?(a.url=n.getAddress(),e.cache.cacheUrl(a,e.options.debugMode),e.triggerEvent("pagePreloaded",t),i(),e.preloadPromise=null):o(n.getAddress())})}),this.preloadPromise.route=n.getAddress())}}},{key:"formSubmitHandler",value:function(t){if(t.metaKey)this.triggerEvent("openFormSubmitInNewTab",t);else{this.triggerEvent("submitForm",t),t.preventDefault();var e=t.target,n=new FormData(e),i=new a.default;if(i.setPath(e.action),""!=i.getHash()&&(this.scrollToElement=i.getHash()),"get"!=e.method.toLowerCase())this.cache.remove(i.getAddress()),this.loadPage({url:i.getAddress(),method:e.method,data:n});else{var o=i.getAddress()||window.location.href,s=e.querySelectorAll("input, select");-1==o.indexOf("?")?o+="?":o+="&",s.forEach(function(t){"checkbox"==t.type||"radio"==t.type?t.checked&&(o+=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)+"&"):o+=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)+"&"}),o=o.slice(0,-1),this.cache.remove(o),this.loadPage({url:o})}}}},{key:"popStateHandler",value:function(t){var e=new a.default;this.options.skipPopStateHandling(t)||(e.setPath(t.state?t.state.url:window.location.pathname),""!=e.getHash()?this.scrollToElement=e.getHash():t.preventDefault(),this.triggerEvent("popState",t),this.loadPage({url:e.getAddress()},t))}}]),t}();e.default=C},function(t,e,n){var i=n(5);function o(t,e,n,i,o){var r=s.apply(this,arguments);return t.addEventListener(n,r,o),{destroy:function(){t.removeEventListener(n,r,o)}}}function s(t,e,n,o){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&o.call(t,n)}}t.exports=function(t,e,n,i,s){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,n,i,s)}))}},function(t,e){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(t,e){for(;t&&t.nodeType!==n;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pages={},this.count=0,this.last=null}return i(t,[{key:"cacheUrl",value:function(t,e){this.count++,t.url in this.pages==!1&&(this.pages[t.url]=t),this.last=this.pages[t.url],e&&this.displayCache()}},{key:"getPage",value:function(t){return this.pages[t]}},{key:"displayCache",value:function(){for(var t in console.groupCollapsed("Cache ("+Object.keys(this.pages).length+")"),this.pages)console.log(this.pages[t]);console.groupEnd()}},{key:"exists",value:function(t){return t in this.pages}},{key:"empty",value:function(t){this.pages={},this.count=0,this.last=null,t&&console.log("Cache cleared")}},{key:"remove",value:function(t){delete this.pages[t]}}]),t}();e.default=o},function(t,e,n){"use strict";t.exports=function(){var t=document.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return e[n];return!1}},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={url:window.location.pathname+window.location.search,method:"GET",data:null},o=i({},n,t),s=new XMLHttpRequest;return s.onreadystatechange=function(){4===s.readyState&&(500!==s.status?e(s.responseText,s):e(null,s))},s.open(o.method,o.url,!0),s.setRequestHeader("X-Requested-With","swup"),s.send(o.data),s}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){var n=this,o=t.replace("<body",'<div id="swupBody"').replace("</body>","</div>"),s=document.createElement("div");s.innerHTML=o;for(var r=[],a=0;a<this.options.elements.length;a++){if(null==s.querySelector(this.options.elements[a]))return console.warn("Element "+this.options.elements[a]+" is not found in cached page."),null;(0,i.queryAll)(this.options.elements[a]).forEach(function(t,e){(0,i.queryAll)(n.options.elements[a],s)[e].dataset.swup=r.length,r.push((0,i.queryAll)(n.options.elements[a],s)[e].outerHTML)})}return{title:s.querySelector("title").innerText,pageClass:s.querySelector("#swupBody").className,originalContent:t,blocks:r,responseURL:null!=e?e.responseURL:window.location.href}}},function(t,e,n){"use strict";var i=n(0),o=Array.prototype.forEach;t.exports=function(t,e){var n=this;this.options.doScrollingRightAway&&!this.scrollToElement&&this.doScrolling(e);var s=[];if(null!=t.customTransition?(this.updateTransition(window.location.pathname,t.url,t.customTransition),document.documentElement.classList.add("to-"+this.classify(t.customTransition))):this.updateTransition(window.location.pathname,t.url),!e||this.options.animateHistoryBrowsing){this.triggerEvent("animationOutStart"),document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("is-leaving"),document.documentElement.classList.add("is-animating"),e&&document.documentElement.classList.add("is-popstate"),document.documentElement.classList.add("to-"+this.classify(t.url));var r=(0,i.queryAll)(this.options.animationSelector);if(o.call(r,function(t){var e=new Promise(function(e){t.addEventListener(n.transitionEndEvent,function(n){t==n.target&&e()})});s.push(e)}),Promise.all(s).then(function(){n.triggerEvent("animationOutDone")}),null!=this.scrollToElement)var a=t.url+this.scrollToElement;else a=t.url;e||this.createState(a)}else this.triggerEvent("animationSkipped");if(this.cache.exists(t.url)){var l=new Promise(function(t){t()});this.triggerEvent("pageRetrievedFromCache")}else if(this.preloadPromise&&this.preloadPromise.route==t.url)l=this.preloadPromise;else var l=new Promise(function(e,i){n.getPage(t,function(o,s){if(500===s.status)return n.triggerEvent("serverError"),void i(t.url);var r=n.getDataFromHtml(o,s);null!=r?(r.url=t.url,n.cache.cacheUrl(r,n.options.debugMode),n.triggerEvent("pageLoaded"),e()):i(t.url)})});Promise.all(s.concat([l])).then(function(){n.renderPage(n.cache.getPage(t.url),e),n.preloadPromise=null}).catch(function(t){n.options.skipPopStateHandling=function(){return window.location=t,!0},window.history.go(-1)})}},function(t,e,n){"use strict";var i=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(n(1));var s=Array.prototype.forEach;t.exports=function(t,e){var n=this;document.documentElement.classList.remove("is-leaving");var r=new o.default;r.setPath(t.responseURL),window.location.pathname!==r.getPath()&&window.history.replaceState({url:r.getPath(),random:Math.random(),source:"swup"},document.title,r.getPath()),e&&!this.options.animateHistoryBrowsing||document.documentElement.classList.add("is-rendering"),this.triggerEvent("willReplaceContent");for(var a=0;a<t.blocks.length;a++)document.body.querySelector('[data-swup="'+a+'"]').outerHTML=t.blocks[a];document.title=t.title,!1!==this.options.pageClassPrefix&&document.body.className.split(" ").forEach(function(t){""!=t&&t.includes(n.options.pageClassPrefix)&&document.body.classList.remove(t)}),""!=t.pageClass&&t.pageClass.split(" ").forEach(function(t){""!=t&&t.includes(n.options.pageClassPrefix)&&document.body.classList.add(t)}),this.triggerEvent("contentReplaced"),this.triggerEvent("pageView"),this.options.cache||this.cache.empty(this.options.debugMode),setTimeout(function(){e&&!n.options.animateHistoryBrowsing||(n.triggerEvent("animationInStart"),document.documentElement.classList.remove("is-animating"))},10),this.options.doScrollingRightAway&&!this.scrollToElement||this.doScrolling(e);var l=(0,i.queryAll)(this.options.animationSelector),u=[];s.call(l,function(t){var e=new Promise(function(e){t.addEventListener(n.transitionEndEvent,function(n){t==n.target&&e()})});u.push(e)}),this.preloadPages(),e&&!this.options.animateHistoryBrowsing||Promise.all(u).then(function(){n.triggerEvent("animationInDone"),document.documentElement.className.split(" ").forEach(function(t){(new RegExp("^to-").test(t)||"is-changing"===t||"is-rendering"===t||"is-popstate"===t)&&document.documentElement.classList.remove(t)})}),this.getUrl(),this.scrollToElement=null}},function(t,e,n){"use strict";t.exports=function(t){window.history.pushState({url:t||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.getElementsByTagName("title")[0].innerText,t||window.location.href.split(window.location.hostname)[1])}},function(t,e,n){"use strict";t.exports=function(t,e){this.options.debugMode&&e?(console.groupCollapsed("%cswup:%c"+t,"color: #343434","color: #009ACD"),console.log(e),console.groupEnd()):this.options.debugMode&&console.log("%cswup:%c"+t,"color: #343434","color: #009ACD"),this._handlers[t].forEach(function(t){return t(e)});var n=new CustomEvent("swup:"+t,{detail:t});document.dispatchEvent(n)}},function(t,e,n){"use strict";t.exports=function(){this.currentUrl=window.location.pathname+window.location.search}},function(t,e,n){"use strict";t.exports=function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.animateScroll,o=1-this.options.scrollFriction,s=this.options.scrollAcceleration,r=0,a=0,l=0,u=0,c=0,d=null;var h=function t(){!function(){var t=u-r;f(t*s),r+=a*=o}();p(),1===c&&l>r||-1===c&&l<r?d=requestAnimationFrame(t):(window.scrollTo(0,l),n.triggerEvent("scrollDone"))};var f=function(t){a+=t},p=function(){window.scrollTo(0,r)};window.addEventListener("mousewheel",function(t){d&&(cancelAnimationFrame(d),d=null)},{passive:!0});this.triggerEvent("scrollStart"),0==i?(window.scrollTo(0,e),this.triggerEvent("scrollDone")):function(t,e){r=document.body.scrollTop||document.documentElement.scrollTop,u=t+(c=r>t?-1:1),a=0,r!=(l=t)?h():n.triggerEvent("scrollDone")}(e)}},function(t,e,n){"use strict";t.exports=function(t){var e=t.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return"/"==e[0]&&(e=e.splice(1)),""==e&&(e="homepage"),e}},function(t,e,n){"use strict";t.exports=function(t){if(this.options.scroll&&(!t||this.options.animateHistoryBrowsing))if(null!=this.scrollToElement){var e=document.querySelector(this.scrollToElement);if(null!=e){var n=e.getBoundingClientRect().top+window.pageYOffset;this.scrollTo(document.body,n)}else console.warn("Element for offset not found ("+this.scrollToElement+")");this.scrollToElement=null}else this.scrollTo(document.body,0)}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){for(var e=this,n=0,o=0;o<this.options.elements.length;o++)null==t.querySelector(this.options.elements[o])?console.warn("Element "+this.options.elements[o]+" is not in current page."):(0,i.queryAll)(this.options.elements[o]).forEach(function(s,r){(0,i.queryAll)(e.options.elements[o],t)[r].dataset.swup=n,n++})}},function(t,e,n){"use strict";t.exports=function(t,e){this._handlers[t]?this._handlers[t].push(e):console.warn("Unsupported event "+t+".")}},function(t,e,n){"use strict";t.exports=function(t,e){var n=this;if(null!=t)if(null!=e)if(this._handlers[t]&&this._handlers[t].filter(function(t){return t===e}).length){var i=this._handlers[t].filter(function(t){return t===e})[0],o=this._handlers[t].indexOf(i);o>-1&&this._handlers[t].splice(o,1)}else console.warn("Handler for event '"+t+"' no found.");else this._handlers[t]=[];else Object.keys(this._handlers).forEach(function(t){n._handlers[t]=[]})}},function(t,e,n){"use strict";t.exports=function(t,e,n){"/"==t&&(t="/homepage"),"/"==e&&(e="/homepage"),this.transition={from:t.replace("/",""),to:e.replace("/","")},n&&(this.transition.custom=n)}},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(1));t.exports=function(t){var e=this,n=new i.default;n.setPath(t),n.getAddress()==this.currentUrl||this.cache.exists(n.getAddress())||null!=this.preloadPromise||this.getPage({url:n.getAddress()},function(t,i){if(500!==i.status){var o=e.getDataFromHtml(t,i);null!=o&&(o.url=n.getAddress(),e.cache.cacheUrl(o,e.options.debugMode),e.triggerEvent("pagePreloaded"))}else e.triggerEvent("serverError")})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(){var t=this;this.options.preload&&(0,i.queryAll)("[data-swup-preload]").forEach(function(e){t.preloadPage(e.href)})}},function(t,e,n){"use strict";t.exports=function(t,e){var n=this;e=Object.assign({},t.options,e),t.options=e;return this.plugins.push(t),t.exec(e,this,function(){var t=n.cache.getPage(window.location.pathname+window.location.search),e=document.createElement("html");return e.innerHTML=t.originalContent,e}),this.plugins}},function(t,e,n){"use strict";t.exports=function(t){this.options.debugMode&&console.log(t+"%c","color: #009ACD")}}])}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Shuffle=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(){}s.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function o(){i.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var s=0,r=i.length;s<r;s++)i[s].fn!==e&&i[s].fn._!==e&&o.push(i[s]);return o.length?n[t]=o:delete n[t],this}};var r=s,a="undefined"!=typeof Element?Element.prototype:{},l=a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;function u(){}function c(t){return parseFloat(t)||0}var d=function(){function e(n,i){t(this,e),this.x=c(n),this.y=c(i)}return n(e,null,[{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y}}]),e}(),h=function(){function e(n,i,o,s,r){t(this,e),this.id=r,this.left=n,this.top=i,this.width=o,this.height=s}return n(e,null,[{key:"intersects",value:function(t,e){return t.left<e.left+e.width&&e.left<t.left+t.width&&t.top<e.top+e.height&&e.top<t.top+t.height}}]),e}(),f={BASE:"shuffle",SHUFFLE_ITEM:"shuffle-item",VISIBLE:"shuffle-item--visible",HIDDEN:"shuffle-item--hidden"},p=0,m=function(){function e(n){t(this,e),p+=1,this.id=p,this.element=n,this.isVisible=!0,this.isHidden=!1}return n(e,[{key:"show",value:function(){this.isVisible=!0,this.element.classList.remove(f.HIDDEN),this.element.classList.add(f.VISIBLE),this.element.removeAttribute("aria-hidden")}},{key:"hide",value:function(){this.isVisible=!1,this.element.classList.remove(f.VISIBLE),this.element.classList.add(f.HIDDEN),this.element.setAttribute("aria-hidden",!0)}},{key:"init",value:function(){this.addClasses([f.SHUFFLE_ITEM,f.VISIBLE]),this.applyCss(e.Css.INITIAL),this.scale=e.Scale.VISIBLE,this.point=new d}},{key:"addClasses",value:function(t){var e=this;t.forEach(function(t){e.element.classList.add(t)})}},{key:"removeClasses",value:function(t){var e=this;t.forEach(function(t){e.element.classList.remove(t)})}},{key:"applyCss",value:function(t){var e=this;Object.keys(t).forEach(function(n){e.element.style[n]=t[n]})}},{key:"dispose",value:function(){this.removeClasses([f.HIDDEN,f.VISIBLE,f.SHUFFLE_ITEM]),this.element.removeAttribute("style"),this.element=null}}]),e}();m.Css={INITIAL:{position:"absolute",top:0,left:0,visibility:"visible","will-change":"transform"},VISIBLE:{before:{opacity:1,visibility:"visible"},after:{transitionDelay:""}},HIDDEN:{before:{opacity:0},after:{visibility:"hidden",transitionDelay:""}}},m.Scale={VISIBLE:1,HIDDEN:.001};var g=null,v=function(){if(null!==g)return g;var t=document.body||document.documentElement,e=document.createElement("div");return e.style.cssText="width:10px;padding:2px;box-sizing:border-box;",t.appendChild(e),g="10px"===window.getComputedStyle(e,null).width,t.removeChild(e),g};function y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.getComputedStyle(t,null),i=c(n[e]);return v()||"width"!==e?v()||"height"!==e||(i+=c(n.paddingTop)+c(n.paddingBottom)+c(n.borderTopWidth)+c(n.borderBottomWidth)):i+=c(n.paddingLeft)+c(n.paddingRight)+c(n.borderLeftWidth)+c(n.borderRightWidth),i}var w={reverse:!1,by:null,compare:null,randomize:!1,key:"element"};function _(t,e){var n=Object.assign({},w,e),i=Array.from(t),o=!1;return t.length?n.randomize?function(t){for(var e=t.length;e;){e-=1;var n=Math.floor(Math.random()*(e+1)),i=t[n];t[n]=t[e],t[e]=i}return t}(t):("function"==typeof n.by?t.sort(function(t,e){if(o)return 0;var i=n.by(t[n.key]),s=n.by(e[n.key]);return void 0===i&&void 0===s?(o=!0,0):i<s||"sortFirst"===i||"sortLast"===s?-1:i>s||"sortLast"===i||"sortFirst"===s?1:0}):"function"==typeof n.compare&&t.sort(n.compare),o?i:(n.reverse&&t.reverse(),t)):[]}var E={},b="transitionend",S=0;function T(t){return!!E[t]&&(E[t].element.removeEventListener(b,E[t].listener),E[t]=null,!0)}function L(t){return Math.max.apply(Math,t)}function k(t,e,n,i){var o=t/e;return Math.abs(Math.round(o)-o)<i&&(o=Math.round(o)),Math.min(Math.ceil(o),n)}function I(t,e,n){if(1===e)return t;for(var i=[],o=0;o<=n-e;o++)i.push(L(t.slice(o,o+e)));return i}function C(t,e){for(var n,i=(n=t,Math.min.apply(Math,n)),o=0,s=t.length;o<s;o++)if(t[o]>=i-e&&t[o]<=i+e)return o;return 0}function P(t,e){var n={};t.forEach(function(t){n[t.top]?n[t.top].push(t):n[t.top]=[t]});var i=[],o=[],s=[];return Object.keys(n).forEach(function(t){var r=n[t];o.push(r);var a,l=r[r.length-1],u=l.left+l.width,c=Math.round((e-u)/2),d=r,f=!1;if(c>0){var p=[];(f=r.every(function(t){var e=new h(t.left+c,t.top,t.width,t.height,t.id),n=!i.some(function(t){return h.intersects(e,t)});return p.push(e),n}))&&(d=p)}if(!f&&r.some(function(t){return i.some(function(e){var n=h.intersects(t,e);return n&&(a=e),n})})){var m=s.findIndex(function(t){return t.includes(a)});s.splice(m,1,o[m])}i=i.concat(d),s.push(d)}),[].concat.apply([],s).sort(function(t,e){return t.id-e.id}).map(function(t){return new d(t.left,t.top)})}function A(t){return Array.from(new Set(t))}var O=0,x=function(e){function s(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,s),(n=function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,i(s).call(this))).options=Object.assign({},s.options,o),n.options.delimeter&&(n.options.delimiter=n.options.delimeter),n.lastSort={},n.group=s.ALL_ITEMS,n.lastFilter=s.ALL_ITEMS,n.isEnabled=!0,n.isDestroyed=!1,n.isInitialized=!1,n._transitions=[],n.isTransitioning=!1,n._queue=[];var r=n._getElementOption(e);if(!r)throw new TypeError("Shuffle needs to be initialized with an element.");return n.element=r,n.id="shuffle_"+O,O+=1,n._init(),n.isInitialized=!0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,r),n(s,[{key:"_init",value:function(){if(this.items=this._getItems(),this.options.sizer=this._getElementOption(this.options.sizer),this.element.classList.add(s.Classes.BASE),this._initItems(this.items),this._onResize=this._getResizeFunction(),window.addEventListener("resize",this._onResize),"complete"!==document.readyState){var t=this.layout.bind(this);window.addEventListener("load",function e(){window.removeEventListener("load",e),t()})}var e=window.getComputedStyle(this.element,null),n=s.getSize(this.element).width;this._validateStyles(e),this._setColumns(n),this.filter(this.options.group,this.options.initialSort),this.element.offsetWidth,this.setItemTransitions(this.items),this.element.style.transition="height ".concat(this.options.speed,"ms ").concat(this.options.easing)}},{key:"_getResizeFunction",value:function(){var t=this._handleResize.bind(this);return this.options.throttle?this.options.throttle(t,this.options.throttleTime):t}},{key:"_getElementOption",value:function(t){return"string"==typeof t?this.element.querySelector(t):t&&t.nodeType&&1===t.nodeType?t:t&&t.jquery?t[0]:null}},{key:"_validateStyles",value:function(t){"static"===t.position&&(this.element.style.position="relative"),"hidden"!==t.overflow&&(this.element.style.overflow="hidden")}},{key:"_filter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastFilter,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.items,n=this._getFilteredSets(t,e);return this._toggleFilterClasses(n),this.lastFilter=t,"string"==typeof t&&(this.group=t),n}},{key:"_getFilteredSets",value:function(t,e){var n=this,i=[],o=[];return t===s.ALL_ITEMS?i=e:e.forEach(function(e){n._doesPassFilter(t,e.element)?i.push(e):o.push(e)}),{visible:i,hidden:o}}},{key:"_doesPassFilter",value:function(t,e){if("function"==typeof t)return t.call(e,e,this);var n=e.getAttribute("data-"+s.FILTER_ATTRIBUTE_KEY),i=this.options.delimiter?n.split(this.options.delimiter):JSON.parse(n);function o(t){return i.includes(t)}return Array.isArray(t)?this.options.filterMode===s.FilterMode.ANY?t.some(o):t.every(o):i.includes(t)}},{key:"_toggleFilterClasses",value:function(t){var e=t.visible,n=t.hidden;e.forEach(function(t){t.show()}),n.forEach(function(t){t.hide()})}},{key:"_initItems",value:function(t){t.forEach(function(t){t.init()})}},{key:"_disposeItems",value:function(t){t.forEach(function(t){t.dispose()})}},{key:"_updateItemCount",value:function(){this.visibleItems=this._getFilteredItems().length}},{key:"setItemTransitions",value:function(t){var e=this.options,n=e.speed,i=e.easing,o=this.options.useTransforms?["transform"]:["top","left"],s=Object.keys(m.Css.HIDDEN.before).map(function(t){return t.replace(/([A-Z])/g,function(t,e){return"-".concat(e.toLowerCase())})}),r=o.concat(s).join();t.forEach(function(t){t.element.style.transitionDuration=n+"ms",t.element.style.transitionTimingFunction=i,t.element.style.transitionProperty=r})}},{key:"_getItems",value:function(){var t=this;return Array.from(this.element.children).filter(function(e){return function(t,e){if(!t||1!==t.nodeType)return!1;if(l)return l.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;i++)if(n[i]==t)return!0;return!1}(e,t.options.itemSelector)}).map(function(t){return new m(t)})}},{key:"_mergeNewItems",value:function(t){var e=Array.from(this.element.children);return _(this.items.concat(t),{by:function(t){return e.indexOf(t)}})}},{key:"_getFilteredItems",value:function(){return this.items.filter(function(t){return t.isVisible})}},{key:"_getConcealedItems",value:function(){return this.items.filter(function(t){return!t.isVisible})}},{key:"_getColumnSize",value:function(t,e){var n;return 0===(n="function"==typeof this.options.columnWidth?this.options.columnWidth(t):this.options.sizer?s.getSize(this.options.sizer).width:this.options.columnWidth?this.options.columnWidth:this.items.length>0?s.getSize(this.items[0].element,!0).width:t)&&(n=t),n+e}},{key:"_getGutterSize",value:function(t){return"function"==typeof this.options.gutterWidth?this.options.gutterWidth(t):this.options.sizer?y(this.options.sizer,"marginLeft"):this.options.gutterWidth}},{key:"_setColumns",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.getSize(this.element).width,e=this._getGutterSize(t),n=this._getColumnSize(t,e),i=(t+e)/n;Math.abs(Math.round(i)-i)<this.options.columnThreshold&&(i=Math.round(i)),this.cols=Math.max(Math.floor(i),1),this.containerWidth=t,this.colWidth=n}},{key:"_setContainerSize",value:function(){this.element.style.height=this._getContainerSize()+"px"}},{key:"_getContainerSize",value:function(){return L(this.positions)}},{key:"_getStaggerAmount",value:function(t){return Math.min(t*this.options.staggerAmount,this.options.staggerAmountMax)}},{key:"_dispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isDestroyed||(e.shuffle=this,this.emit(t,e))}},{key:"_resetCols",value:function(){var t=this.cols;for(this.positions=[];t;)t-=1,this.positions.push(0)}},{key:"_layout",value:function(t){var e=this,n=this._getNextPositions(t),i=0;t.forEach(function(t,o){function s(){t.applyCss(m.Css.VISIBLE.after)}if(d.equals(t.point,n[o])&&!t.isHidden)return t.applyCss(m.Css.VISIBLE.before),void s();t.point=n[o],t.scale=m.Scale.VISIBLE,t.isHidden=!1;var r=e.getStylesForTransition(t,m.Css.VISIBLE.before);r.transitionDelay=e._getStaggerAmount(i)+"ms",e._queue.push({item:t,styles:r,callback:s}),i+=1})}},{key:"_getNextPositions",value:function(t){var e=this;if(this.options.isCentered){var n=t.map(function(t,n){var i=s.getSize(t.element,!0),o=e._getItemPosition(i);return new h(o.x,o.y,i.width,i.height,n)});return this.getTransformedPositions(n,this.containerWidth)}return t.map(function(t){return e._getItemPosition(s.getSize(t.element,!0))})}},{key:"_getItemPosition",value:function(t){return function(t){for(var e=t.itemSize,n=t.positions,i=t.gridSize,o=t.total,s=t.threshold,r=t.buffer,a=k(e.width,i,o,s),l=I(n,a,o),u=C(l,r),c=new d(i*u,l[u]),h=l[u]+e.height,f=0;f<a;f++)n[u+f]=h;return c}({itemSize:t,positions:this.positions,gridSize:this.colWidth,total:this.cols,threshold:this.options.columnThreshold,buffer:this.options.buffer})}},{key:"getTransformedPositions",value:function(t,e){return P(t,e)}},{key:"_shrink",value:function(){var t=this,e=0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getConcealedItems()).forEach(function(n){function i(){n.applyCss(m.Css.HIDDEN.after)}if(n.isHidden)return n.applyCss(m.Css.HIDDEN.before),void i();n.scale=m.Scale.HIDDEN,n.isHidden=!0;var o=t.getStylesForTransition(n,m.Css.HIDDEN.before);o.transitionDelay=t._getStaggerAmount(e)+"ms",t._queue.push({item:n,styles:o,callback:i}),e+=1})}},{key:"_handleResize",value:function(){this.isEnabled&&!this.isDestroyed&&this.update()}},{key:"getStylesForTransition",value:function(t,e){var n=Object.assign({},e);if(this.options.useTransforms){var i=this.options.roundTransforms?Math.round(t.point.x):t.point.x,o=this.options.roundTransforms?Math.round(t.point.y):t.point.y;n.transform="translate(".concat(i,"px, ").concat(o,"px) scale(").concat(t.scale,")")}else n.left=t.point.x+"px",n.top=t.point.y+"px";return n}},{key:"_whenTransitionDone",value:function(t,e,n){var i=function(t,e){var n=b+(S+=1),i=function(t){t.currentTarget===t.target&&(T(n),e(t))};return t.addEventListener(b,i),E[n]={element:t,listener:i},n}(t,function(t){e(),n(null,t)});this._transitions.push(i)}},{key:"_getTransitionFunction",value:function(t){var e=this;return function(n){t.item.applyCss(t.styles),e._whenTransitionDone(t.item.element,t.callback,n)}}},{key:"_processQueue",value:function(){this.isTransitioning&&this._cancelMovement();var t=this.options.speed>0,e=this._queue.length>0;e&&t&&this.isInitialized?this._startTransitions(this._queue):e?(this._styleImmediately(this._queue),this._dispatch(s.EventType.LAYOUT)):this._dispatch(s.EventType.LAYOUT),this._queue.length=0}},{key:"_startTransitions",value:function(t){var e=this;this.isTransitioning=!0,function(t,e,n){n||("function"==typeof e?(n=e,e=null):n=u);var i=t&&t.length;if(!i)return n(null,[]);var o=!1,s=new Array(i);function r(t){return function(e,r){if(!o){if(e)return n(e,s),void(o=!0);s[t]=r,--i||n(null,s)}}}t.forEach(e?function(t,n){t.call(e,r(n))}:function(t,e){t(r(e))})}(t.map(function(t){return e._getTransitionFunction(t)}),this._movementFinished.bind(this))}},{key:"_cancelMovement",value:function(){this._transitions.forEach(T),this._transitions.length=0,this.isTransitioning=!1}},{key:"_styleImmediately",value:function(t){if(t.length){var e=t.map(function(t){return t.item.element});s._skipTransitions(e,function(){t.forEach(function(t){t.item.applyCss(t.styles),t.callback()})})}}},{key:"_movementFinished",value:function(){this._transitions.length=0,this.isTransitioning=!1,this._dispatch(s.EventType.LAYOUT)}},{key:"filter",value:function(t,e){this.isEnabled&&((!t||t&&0===t.length)&&(t=s.ALL_ITEMS),this._filter(t),this._shrink(),this._updateItemCount(),this.sort(e))}},{key:"sort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastSort;if(this.isEnabled){this._resetCols();var e=_(this._getFilteredItems(),t);this._layout(e),this._processQueue(),this._setContainerSize(),this.lastSort=t}}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isEnabled&&(t||this._setColumns(),this.sort())}},{key:"layout",value:function(){this.update(!0)}},{key:"add",value:function(t){var e=this,n=A(t).map(function(t){return new m(t)});this._initItems(n),this._resetCols();var i=_(this._mergeNewItems(n),this.lastSort),o=this._filter(this.lastFilter,i),s=function(t){return n.includes(t)},r=function(t){t.scale=m.Scale.HIDDEN,t.isHidden=!0,t.applyCss(m.Css.HIDDEN.before),t.applyCss(m.Css.HIDDEN.after)},a=this._getNextPositions(o.visible);o.visible.forEach(function(t,n){s(t)&&(t.point=a[n],r(t),t.applyCss(e.getStylesForTransition(t,{})))}),o.hidden.forEach(function(t){s(t)&&r(t)}),this.element.offsetWidth,this.setItemTransitions(n),this.items=this._mergeNewItems(n),this.filter(this.lastFilter)}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEnabled=!0,t&&this.update()}},{key:"remove",value:function(t){var e=this;if(t.length){var n=A(t),i=n.map(function(t){return e.getItemByElement(t)}).filter(function(t){return!!t});this._toggleFilterClasses({visible:[],hidden:i}),this._shrink(i),this.sort(),this.items=this.items.filter(function(t){return!i.includes(t)}),this._updateItemCount(),this.once(s.EventType.LAYOUT,function(){e._disposeItems(i),n.forEach(function(t){t.parentNode.removeChild(t)}),e._dispatch(s.EventType.REMOVED,{collection:n})})}}},{key:"getItemByElement",value:function(t){return this.items.find(function(e){return e.element===t})}},{key:"resetItems",value:function(){var t=this;this._disposeItems(this.items),this.isInitialized=!1,this.items=this._getItems(),this._initItems(this.items),this.once(s.EventType.LAYOUT,function(){t.setItemTransitions(t.items),t.isInitialized=!0}),this.filter(this.lastFilter)}},{key:"destroy",value:function(){this._cancelMovement(),window.removeEventListener("resize",this._onResize),this.element.classList.remove("shuffle"),this.element.removeAttribute("style"),this._disposeItems(this.items),this.items.length=0,this._transitions.length=0,this.options.sizer=null,this.element=null,this.isDestroyed=!0,this.isEnabled=!1}}],[{key:"getSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.getComputedStyle(t,null),i=y(t,"width",n),o=y(t,"height",n);return e&&(i+=y(t,"marginLeft",n)+y(t,"marginRight",n),o+=y(t,"marginTop",n)+y(t,"marginBottom",n)),{width:i,height:o}}},{key:"_skipTransitions",value:function(t,e){var n=t.map(function(t){var e=t.style,n=e.transitionDuration,i=e.transitionDelay;return e.transitionDuration="0ms",e.transitionDelay="0ms",{duration:n,delay:i}});e(),t[0].offsetWidth,t.forEach(function(t,e){t.style.transitionDuration=n[e].duration,t.style.transitionDelay=n[e].delay})}}]),s}();return x.ShuffleItem=m,x.ALL_ITEMS="all",x.FILTER_ATTRIBUTE_KEY="groups",x.EventType={LAYOUT:"shuffle:layout",REMOVED:"shuffle:removed"},x.Classes=f,x.FilterMode={ANY:"any",ALL:"all"},x.options={group:x.ALL_ITEMS,speed:250,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",itemSelector:"*",sizer:null,gutterWidth:0,columnWidth:0,delimiter:null,buffer:0,columnThreshold:.01,initialSort:null,throttle:function(t,e){var n,i,o,s,r=0;return function(){n=this,i=arguments;var t=new Date-r;return s||(t>=e?a():s=setTimeout(a,e-t)),o};function a(){s=0,r=+new Date,o=t.apply(n,i),n=null,i=null}},throttleTime:300,staggerAmount:15,staggerAmountMax:150,useTransforms:!0,filterMode:x.FilterMode.ANY,isCentered:!1,roundTransforms:!0},x.Point=d,x.Rect=h,x.__sorter=_,x.__getColumnSpan=k,x.__getAvailablePositions=I,x.__getShortColumn=C,x.__getCenteredPositions=P,x});const Nav={elems:{toggle:document.querySelector("#toggle-nav"),site:document.querySelector("#site")},isOpen:!1,toggle:function(){document.documentElement.classList.toggle("nav-open"),this.isOpen=!this.isOpen},open:function(){document.documentElement.classList.add("nav-open"),this.isOpen=!0},close:function(){document.documentElement.classList.remove("nav-open"),this.isOpen=!1},init:function(){this.elems.toggle.addEventListener("click",t=>{t.preventDefault(),this.toggle()}),window.addEventListener("resize",t=>{this.close()}),this.elems.site.addEventListener("click",t=>{this.isOpen&&this.close()})}};Nav.init();const LazyLoadHandler={lazyLoad:null,init:function(){this.lazyLoad=new LazyLoad({elements_selector:".lazy"})}};LazyLoadHandler.init();const Page={elems:{loader:document.querySelector("#loader")},init:function(){const t=new Swup({elements:["#page-main"],animationSelector:'[class*="u-transition-"]'});t.on("animationOutStart",()=>{Nav.close();let t=this.elems.loader.cloneNode(!0);this.elems.loader.parentNode.replaceChild(t,this.elems.loader),this.elems.loader=t}),t.on("contentReplaced",()=>{document.querySelectorAll(".lazy").forEach(t=>{t.classList.remove("loaded"),t.classList.remove("initial"),t.classList.remove("loading"),t.setAttribute("data-was-processed","")})}),t.on("animationInDone",()=>{LazyLoadHandler.init()}),t.on("popState",()=>{setTimeout(function(){document.querySelectorAll(".lazy").forEach(t=>{t.classList.add("loaded")})},100)}),window.addEventListener("load",()=>{setTimeout(()=>{document.documentElement.classList.remove("is-animating","is-preload")},500)})}};Page.init();